---
import { account } from "../constants";
---

<section class="fade-in flex flex-col items-center justify-center gap-1 py-10">
  <span class="text-sm font-light text-slate-400">congrats</span>
  <p class="mb-5 text-xl font-medium">마음 전하실 곳</p>
  <div
    id="account-container"
    class="flex flex-col gap-5 text-[color:--font-body-color]"
  >
    <div class="flex flex-col gap-1">
      <h2 class="p-1 text-center text-base">계좌번호</h2>
      {
        account
          .filter(({ group }) => group === "박상윤")
          .map(({ name, account }) => (
            <div class="flex items-center justify-between gap-2 text-sm font-light">
              <span class="font-medium">{name}</span>
              <span>|</span>
              <span>{account}</span>
              <button
                id={account}
                class="rounded-md border border-gray-400 px-1"
              >
                복사
              </button>
            </div>
          ))
      }
    </div>
    <!-- <div class="flex flex-col gap-1">
      <h2 class="account-title p-1 text-center text-base">신부측 계좌번호</h2>
      {
        account
          .filter(({ group }) => group === "박소원")
          .map(({ name, account }) => (
            <div class="flex justify-between gap-2 text-sm font-light">
              <span class="font-medium">{name}</span>
              <span>|</span>
              <span>{account}</span>
              <button
                id={account}
                class="rounded-md border border-gray-400 px-1"
              >
                복사
              </button>
            </div>
          ))
      }
    </div> -->
  </div>
</section>

<script>
  import copy from "copy-to-clipboard";

  const accountContainer = document.getElementById("account-container");
  accountContainer?.addEventListener("click", (ev) => {
    if (ev.target instanceof HTMLElement && ev.target.id) {
      copy(ev.target.id);
      alert("복사되었습니다!");
    }
  });
</script>
